"use strict";(self.webpackChunkcytube_replay=self.webpackChunkcytube_replay||[]).push([[473],{473:(N,v,l)=>{l.r(v),l.d(v,{LoadModule:()=>O});var z=l(9808),j=l(5861),e=l(5e3),f=l(8555),F=l(9757);const M=[{path:"",component:(()=>{class t{constructor(n,r,a){var o=this;this.router=n,this.route=r,this.navbar=a,this.url="",this.unloaded=!1,this.subscription=this.route.queryParams.subscribe(function(){var p=(0,j.Z)(function*(s){var h;let d=s.json,m=s.zip,u="",y=!1,i="";if("string"==typeof d&&(i=o.urlGetFileName(d,".json"),""!==i&&(u=d)),"string"==typeof m&&""===i&&(i=o.urlGetFileName(m,".zip"),""!==i&&(u=m,y=!0)),""!==u&&""!==i){o.url=u,o.navbar.loadingConfig(i);try{let g=new URL("https://cors-bypass.firlin123.workers.dev/");g.searchParams.append("url",u);let b=yield fetch(g.toString());if(b.ok){let C=null!==(h=b.headers.get("content-type"))&&void 0!==h?h:"";if(C.startsWith("application/json")&&!y||C.startsWith("application/zip")&&y){let L=yield b.blob();L.name=i,a.fileSelect.filesChange([L])}}}catch(g){}}null!=o.subscription&&(o.subscription.unsubscribe(),o.subscription=null),o.unloaded||o.router.navigate(["/"])});return function(s){return p.apply(this,arguments)}}())}urlGetFileName(n,r){try{let a=new URL(n);if("http:"===a.protocol||"https:"===a.protocol){let p=a.pathname.split("/"),s=p[p.length-1];return""===s&&(s="file-from-url"+r),s.endsWith(r)||(s+=r),s}}catch(a){}return""}ngOnDestroy(){this.unloaded=!0,null!=this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.F0),e.Y36(f.gz),e.Y36(F.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-load"]],decls:2,vars:1,consts:[[1,"message"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.hij("Loading ",r.url," ..."))},styles:["[_nghost-%COMP%]{flex:1;display:flex}.message[_ngcontent-%COMP%]{flex:1;align-self:center;text-align:center;font-size:3em;line-height:1em}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[z.ez,f.Bz.forChild(M)]]}),t})()}}]);